<form [formGroup]="conversionForm" style="margin-left: 120px; margin-right: 120px; margin-top:5px"
(ngSubmit)="saveConversionLog();">
<br><br>
  <p-button label="Back" button type="button" icon="fa fa-fw fa-arrow-left" class="ui-button-rounded ui-button-success"
  (onClick)="onSaveComplete()"></p-button>
  <p>&nbsp;</p>
  <p-panel>
    <p-header style="text-align:center; font-size: 20px">
      <div class="ui-helper-clearfix">
        <span class="ui-panel-title" style="display:inline-block;
         font-weight: bold; font-size: 25px">Conversion Form</span>
      </div>
    </p-header>
    <div class="ui-g"> 

        <div class="ui-g-4 ui-sm-4" style="margin-top: 5px">
            <label for="name">Trade Name:</label>
          </div>
          <div class="ui-g-8 ui-sm-8">
            <input id="name" formControlName="name" type="text" pInputText>
          </div>
          <div class="ui-g-4 ui-sm-4" style="margin-top: 5px">
            <label for="number">Contact Number:</label>
          </div>
          <div class="ui-g-8 ui-sm-8">
            <input id="number" formControlName="contactNumber" type="number" pInputText>
          </div>
          <div class="ui-g-4 ui-sm-4" style="margin-top: 5px">
            <label for="fee">Fee:</label>
          </div>
          <div class="ui-g-8 ui-sm-8">
            <input id="fee" formControlName="fee" type="number" pInputText>
          </div>
          <div class="ui-g-8 ui-sm-8 ui-md-offset-4">
            <p-table [value] = "conversionForm.value.serviceItems">
              <ng-template pTemplate="header">
                <tr>
                  <th>Service Type</th>
                  <th>Rate</th>
                  <th style="width: 120px">Action</th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-item let-rowIndex = "rowIndex">
                <tr>
                  <td>{{item.serviceType}}</td>
                  <td>{{item.rate}}</td>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <button pButton type="button" icon="fa fa-fw fa-trash" 
                     (click)="deleteServiceType(rowIndex)" class="ui-button-danger"></button>
                  </td>
                </tr>
              </ng-template>
              <ng-template pTemplate="footer">
                <tr>
                  <td>
                    <p-dropdown [style]="{'width': '175px'}" [options]="interrestedInService"
                     placeholder="Select a Type" filter="true" #type>
                      <ng-template let-option pTemplate="item">
                        <div translate> {{option.label}}</div>
                      </ng-template>
                    </p-dropdown>
                  </td>
                  <td>
                    <input type="number" pInputText style="height: 35px"  #rate/>
                  </td>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <button pButton type="button" icon="fa fa-fw fa-plus" (click)="addNewServiceType(type,rate);"></button>
                  </td>
                </tr>
              </ng-template>
  
            </p-table>
          </div>
    </div>
    <p-footer>
      <button pButton type="submit" label="Submit" class="ui-button-success" [disabled]="conversionForm.invalid"></button>
    </p-footer>
  </p-panel>
</form>
    